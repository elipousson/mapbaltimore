<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<!-- Inform modern browsers that this page supports both dark and light color schemes,
  and the page author prefers light. --><meta name="color-scheme" content="dark light">
<script>
  // If `prefers-color-scheme` is not supported, fall back to light mode.
  // i.e. In this case, inject the `light` CSS before the others, with
  // no media filter so that it will be downloaded with highest priority.
  if (window.matchMedia("(prefers-color-scheme: dark)").media === "not all") {
    document.documentElement.style.display = "none";
    document.head.insertAdjacentHTML(
      "beforeend",
      "<link id=\"css\" rel=\"stylesheet\" href=\"https://bootswatch.com/3/flatly/bootstrap.css\" onload=\"document.documentElement.style.display = ''\">"
    );
  }
</script><title>An R package for mapping in Baltimore • mapbaltimore</title>
<!-- favicons --><link rel="icon" type="image/png" sizes="16x16" href="favicon-16x16.png">
<link rel="icon" type="image/png" sizes="32x32" href="favicon-32x32.png">
<link rel="apple-touch-icon" type="image/png" sizes="180x180" href="apple-touch-icon.png">
<link rel="apple-touch-icon" type="image/png" sizes="120x120" href="apple-touch-icon-120x120.png">
<link rel="apple-touch-icon" type="image/png" sizes="76x76" href="apple-touch-icon-76x76.png">
<link rel="apple-touch-icon" type="image/png" sizes="60x60" href="apple-touch-icon-60x60.png">
<!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script><!-- Bootstrap --><script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script><!-- Flatly Theme - Light  --><link id="css-light" rel="stylesheet" href="https://bootswatch.com/3/flatly/bootstrap.css" media="(prefers-color-scheme: light), (prefers-color-scheme: no-preference)">
<!-- Darkly Theme - Dark --><link id="css-dark" rel="stylesheet" href="https://bootswatch.com/3/darkly/bootstrap.css" media="(prefers-color-scheme: dark)">
<!-- preferably CSS --><link rel="stylesheet" href="preferably.css">
<link id="css-code-light" rel="stylesheet" href="code-color-scheme-light.css" media="(prefers-color-scheme: light), (prefers-color-scheme: no-preference)">
<link id="css-code-dark" rel="stylesheet" href="code-color-scheme-dark.css" media="(prefers-color-scheme: dark)">
<!-- bootstrap-toc --><link rel="stylesheet" href="bootstrap-toc.css">
<script src="bootstrap-toc.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous">
<!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- pkgdown --><link href="pkgdown.css" rel="stylesheet">
<script src="pkgdown.js"></script><meta property="og:title" content="An R package for mapping in Baltimore">
<meta property="og:description" content="Data and mapping functions for Baltimore, Maryland.">
<meta property="og:image" content="/logo.png">
<!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->
</head>
<body data-spy="scroll" data-target="#toc">
    <div class="container template-home">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="index.html">mapbaltimore</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="Released version">0.1.0</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
<li>
  <a href="index.html">
    <span class="fas fa-home fa-lg"></span>
     
  </a>
</li>
<li>
  <a href="reference/index.html">Reference</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    Articles
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
<li>
      <a href="articles/articles/extdata_cachedata.html">External, cached, and remote data sources</a>
    </li>
  </ul>
</li>
      </ul>
<ul class="nav navbar-nav navbar-right"></ul>
</div>
<!--/.nav-collapse -->
  </div>
<!--/.container -->
</div>
<!--/.navbar -->

      

      </header><div class="row">
  <div class="contents col-md-9">
<div id="mapbaltimore" class="section level1">
<div class="page-header"><h1 class="hasAnchor">
<a href="#mapbaltimore" class="anchor"></a>mapbaltimore</h1></div>
<!-- badges: start -->
<!-- badges: end -->
<p>The goal of the mapbaltimore package is to provide an easy way to create maps of Baltimore neighborhoods, Council districts, and other areas using open data on schools, housing, parks, and public transit.</p>
<div id="installation" class="section level2">
<h2 class="hasAnchor">
<a href="#installation" class="anchor"></a>Installation</h2>
<p>You can install this development version from <a href="https://github.com/">GitHub</a> with:</p>
<div class="sourceCode" id="cb1"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="co"># install.packages("devtools")</span>
<span class="fu">remotes</span><span class="fu">::</span><span class="fu"><a href="https://remotes.r-lib.org/reference/install_github.html">install_github</a></span><span class="op">(</span><span class="st">"elipousson/mapbaltimore"</span><span class="op">)</span></code></pre></div>
</div>
<div id="examples" class="section level2">
<h2 class="hasAnchor">
<a href="#examples" class="anchor"></a>Examples</h2>
<div class="sourceCode" id="cb2"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="kw"><a href="https://rdrr.io/r/base/library.html">library</a></span><span class="op">(</span><span class="va"><a href="https://r-spatial.github.io/sf/">sf</a></span><span class="op">)</span>
<span class="co">#&gt; Linking to GEOS 3.9.0, GDAL 3.2.0, PROJ 7.2.0</span>
<span class="kw"><a href="https://rdrr.io/r/base/library.html">library</a></span><span class="op">(</span><span class="va"><a href="https://ggplot2.tidyverse.org">ggplot2</a></span><span class="op">)</span>
<span class="kw"><a href="https://rdrr.io/r/base/library.html">library</a></span><span class="op">(</span><span class="va">mapbaltimore</span><span class="op">)</span>

<span class="fu"><a href="reference/set_map_theme.html">set_map_theme</a></span><span class="op">(</span><span class="op">)</span></code></pre></div>
<p>Less experienced R users may find the mapbaltimore package most useful for the convenient function you can use to quickly create maps of Baltimore neighborhoods.</p>
<p>For example, these maps show Downtown Baltimore in the context of the full city boundary and the local City Council district. Of course, the underlying open data can sometimes be a little unpredictable. In this case, the boundaries of the downtown neighborhood just <em>slightly</em> overlap with District 12 so this may be an error.</p>
<div class="sourceCode" id="cb3"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">downtown</span> <span class="op">&lt;-</span> <span class="fu"><a href="reference/get_area.html">get_area</a></span><span class="op">(</span>type <span class="op">=</span> <span class="st">"neighborhood"</span>,
                     area_name <span class="op">=</span> <span class="st">"Downtown"</span><span class="op">)</span>

<span class="fu"><a href="reference/map_area_in_city.html">map_area_in_city</a></span><span class="op">(</span>area <span class="op">=</span> <span class="va">downtown</span><span class="op">)</span> <span class="op">+</span>
  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/labs.html">labs</a></span><span class="op">(</span>title <span class="op">=</span> <span class="st">"Downtown Baltimore"</span><span class="op">)</span></code></pre></div>
<p><img src="reference/figures/README-downtown-1.png" width="80%"></p>
<div class="sourceCode" id="cb4"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="fu"><a href="reference/map_area_in_areas.html">map_area_in_areas</a></span><span class="op">(</span>area <span class="op">=</span> <span class="va">downtown</span>,
                  type <span class="op">=</span> <span class="st">"council district"</span>,
                  label <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span></code></pre></div>
<p><img src="reference/figures/README-downtown-2.png" width="80%"></p>
<p>The mapping functions rely on a general data function (<code>get_area_data</code>) to return selected data within and around an area. More experienced R users may prefer to use these functions directly for more direct control over the appearance of a map or to access the data for analysis.</p>
<p>For example, compare the map created by the <code>map_area_parks</code> function to a simple custom map made using data retrieved using the <code>get_area_data</code> function and streets from the <a href="https://elipousson.github.io/mapbaltimore/reference/get_area_streets.html"><code>get_area_streets</code></a> function. <code>get_area_streets</code> wraps the <code>get_area_data</code> function and offers the option to filter streets by functional classification.</p>
<div class="sourceCode" id="cb5"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="fu"><a href="reference/map_area_parks.html">map_area_parks</a></span><span class="op">(</span>area <span class="op">=</span> <span class="va">downtown</span><span class="op">)</span> <span class="op">+</span>
  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/labs.html">labs</a></span><span class="op">(</span>title <span class="op">=</span> <span class="st">"Parks in Downtown Baltimore"</span><span class="op">)</span>
<span class="co">#&gt; Reading layer `unimproved_property' from data source `/private/var/folders/zh/1h__l1b577j6ktz6b_4z5w8c0000gn/T/Rtmp8LDSuc/temp_libpath1552a7327294d/mapbaltimore/extdata/unimproved_property.gpkg' using driver `GPKG'</span>
<span class="co">#&gt; Simple feature collection with 526 features and 64 fields</span>
<span class="co">#&gt; geometry type:  MULTIPOLYGON</span>
<span class="co">#&gt; dimension:      XY</span>
<span class="co">#&gt; bbox:           xmin: 431755 ymin: 179395.1 xmax: 434669.5 ymax: 181385.7</span>
<span class="co">#&gt; projected CRS:  NAD83(HARN) / Maryland</span></code></pre></div>
<p><img src="reference/figures/README-map_area_parks-1.png" width="80%"></p>
<div class="sourceCode" id="cb6"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">downtown_parks</span> <span class="op">&lt;-</span> <span class="fu"><a href="reference/get_area_data.html">get_area_data</a></span><span class="op">(</span>data <span class="op">=</span> <span class="va">parks</span>,
                                area <span class="op">=</span> <span class="va">downtown</span>,
                                crop <span class="op">=</span> <span class="cn">FALSE</span>,
                                trim <span class="op">=</span> <span class="cn">FALSE</span><span class="op">)</span>

<span class="va">downtown_streets</span> <span class="op">&lt;-</span> <span class="fu"><a href="reference/get_area_streets.html">get_area_streets</a></span><span class="op">(</span>area <span class="op">=</span> <span class="va">downtown</span>,
                                     sha_class <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="st">"PART"</span>, <span class="st">"MART"</span>, <span class="st">"INT"</span><span class="op">)</span><span class="op">)</span>

<span class="fu"><a href="https://ggplot2.tidyverse.org/reference/ggplot.html">ggplot</a></span><span class="op">(</span><span class="op">)</span> <span class="op">+</span>
  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/ggsf.html">geom_sf</a></span><span class="op">(</span>data <span class="op">=</span> <span class="va">downtown_streets</span>, color <span class="op">=</span> <span class="st">"gray60"</span><span class="op">)</span> <span class="op">+</span>
  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/ggsf.html">geom_sf</a></span><span class="op">(</span>data <span class="op">=</span> <span class="va">downtown_parks</span>, <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/aes.html">aes</a></span><span class="op">(</span>fill <span class="op">=</span> <span class="va">name</span><span class="op">)</span>, color <span class="op">=</span> <span class="cn">NA</span><span class="op">)</span> <span class="op">+</span>
  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/labs.html">labs</a></span><span class="op">(</span>title <span class="op">=</span> <span class="st">"Parks in downtown Baltimore"</span>,
       fill <span class="op">=</span> <span class="st">"Park name"</span><span class="op">)</span></code></pre></div>
<p><img src="reference/figures/README-ggplot_parks-1.png" width="80%"></p>
<p><em>Please note:</em> the real property data that was previously included with this package has been removed because loading the full dataset into memory was causing major performance problems. I’m developing a new function to download, process, and cache these larger data sets but, until this is complete, none of the functions related to real property data will work.</p>
<p>If you need data that is not included with the package, mapbaltimore includes several functions for accessing remote data including <a href="https://elipousson.github.io/mapbaltimore/reference/get_osm_feature.html"><code>get_osm_feature</code></a> and <a href="https://elipousson.github.io/mapbaltimore/reference/get_area_esri_data.html"><code>get_area_esri_data</code></a>. These functions are largely wrappers for other packages with <code>get_osm_features</code> using the rOpenSci <a href="https://github.com/ropensci/osmdata">osmdata</a> package, <code>get_area_esri_data</code> using the <a href="https://github.com/yonghah/esri2sf">esri2sf</a> package, and <code>get_maryland_open_resources</code> using the <a href="https://github.com/Chicago/RSocrata">RSocrata</a> package. For example, see this map of liquor licenses for downtown using one of the (still limited) number of remote data sources supported by <code>get_area_esri_data</code>:</p>
<div class="sourceCode" id="cb7"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">liquor_licenses</span> <span class="op">&lt;-</span> <span class="fu"><a href="reference/get_area_esri_data.html">get_area_esri_data</a></span><span class="op">(</span>area <span class="op">=</span> <span class="va">downtown</span>,
                                    type <span class="op">=</span> <span class="st">"liquor licenses"</span>,
                                    trim <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span>
<span class="co">#&gt; [1] "Feature Layer"</span>
<span class="co">#&gt; [1] "esriGeometryPoint"</span>
<span class="co">#&gt; [1] "Coordinate Reference System: 3857"</span>
<span class="co">#&gt; Warning: attribute variables are assumed to be spatially constant throughout all</span>
<span class="co">#&gt; geometries</span>

<span class="fu"><a href="https://ggplot2.tidyverse.org/reference/ggplot.html">ggplot</a></span><span class="op">(</span><span class="op">)</span> <span class="op">+</span>
  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/ggsf.html">geom_sf</a></span><span class="op">(</span>data <span class="op">=</span> <span class="va">downtown_streets</span>, color <span class="op">=</span> <span class="st">"gray60"</span><span class="op">)</span> <span class="op">+</span>
  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/ggsf.html">geom_sf</a></span><span class="op">(</span>data <span class="op">=</span> <span class="va">liquor_licenses</span>, color <span class="op">=</span> <span class="st">"blue"</span><span class="op">)</span> <span class="op">+</span>
  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/labs.html">labs</a></span><span class="op">(</span>title <span class="op">=</span> <span class="st">"Liquor licenses in Downtown Baltimore"</span><span class="op">)</span></code></pre></div>
<p><img src="reference/figures/README-areas_highlighted-1.png" width="80%"></p>
</div>
<div id="ongoing-development" class="section level2">
<h2 class="hasAnchor">
<a href="#ongoing-development" class="anchor"></a>Ongoing development</h2>
<p>Overall, this package is definitely experimental and I’m changing functions on a regular basis so use with caution. Here are a few of the ideas I’m hoping to add to this package:</p>
<ul>
<li>making map functions work as layers (more similar to <a href="https://github.com/anthonynorth/snapbox">snapbox</a> or <a href="https://github.com/paleolimbot/ggspatial">ggspatial</a>)</li>
<li>labeled data using the <a href="https://github.com/larmarange/labelled">labelled package</a> (many city data sources have limited or inaccessible documentation)</li>
<li>
<a href="https://gt.rstudio.com/">gt</a> tables to display property characteristics by neighborhood</li>
<li>functions for working with <a href="https://bniajfi.org/vital_signs/">VitalSigns data</a> from the Baltimore Neighborhood Indicators Alliance</li>
<li>additional historic spatial and demographic datasets</li>
</ul>
<p>Suggestions and feature requests are welcome!</p>
</div>
<div id="related-and-inspirational-packages" class="section level2">
<h2 class="hasAnchor">
<a href="#related-and-inspirational-packages" class="anchor"></a>Related and inspirational packages</h2>
<p>The development of mapbaltimore was inspired in part by a handful of other “place-based” R packages that I’ve seen over the past few months such as <a href="https://nycgeo.mattherman.info/index.html">nycgeo</a> for New York City and <a href="https://github.com/slu-openGIS/gateway">gateway</a> for Saint Louis.</p>
<p>At the national level, <a href="https://github.com/walkerke/tigris">tigris</a> provides access to boundary data for all geographies used by the U.S. Census Bureau. mapbaltimore uses tigris to download all of the U.S. Census geographies that are included with the package. Outside the U.S., there are similar packages that provide access to varied boundary data for Brazil <a href="https://github.com/ipeaGIT/geobr">geobr</a>, Uruguay ‘<a href="https://github.com/RichDeto/geouy">geouy</a>’, Chile ‘<a href="https://github.com/pachamaltese/chilemapas">chilemapas</a>’ and Mexico ‘<a href="https://github.com/diegovalle/mxmaps">mxmaps</a>’.</p>
</div>
</div>
  </div>

  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">
    <div class="license">
<h2>License</h2>
<ul class="list-unstyled">
<li><a href="LICENSE.html">Full license</a></li>
<li><small><a href="https://opensource.org/licenses/mit-license.php">MIT</a> + file <a href="LICENSE-text.html">LICENSE</a></small></li>
</ul>
</div>
<div class="developers">
<h2>Developers</h2>
<ul class="list-unstyled">
<li>Eli Pousson <br><small class="roles"> Maintainer </small>  </li>
</ul>
</div>

  </div>
</div>


      <footer><div class="copyright">
  <p>Developed by Eli Pousson.</p>
</div>

<div class="pkgdown">
  <p>Made with <a href="https://pkgdown.r-lib.org/">pkgdown</a> 1.6.1, using <a href="https://preferably.amirmasoudabdol.name/?source=footer">preferably</a> template.</p>
</div>

      </footer>
</div>

  


  </body>
</html>
